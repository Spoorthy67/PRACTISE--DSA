class Solution {
    public int longestValidParentheses(String s) {

        int n=s.length();
        String res="";
        for(int i=0;i<n;i++){
            for(int j=i;j<n;j++){
                if(isValidParentheses(s,i,j)){
                    if(res.length()<(j-i+1)){
                        res=s.substring(i,j+1);
                    }
                }

            }
        }
        return res.length();
        

    }
    public boolean isValidParentheses(String s,int i,int j){
        Stack<Character> stack=new Stack<>();
        for(int k=i;k<=j;k++){
            char ch=s.charAt(k);
            if(ch=='('){
                stack.push(ch);
            }else{
                if(stack.isEmpty()){
                    return false;

                }
                stack.pop();
            }
        }
        return stack.isEmpty();
        
    }
}
